<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="987px" preserveAspectRatio="none" style="width:2021px;height:987px;" version="1.1" viewBox="0 0 2021 987" width="2021px" zoomAndPan="magnify"><defs><filter height="300%" id="f6d3i6dahre0t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="342" x="840.25" y="26.708">state到触发pipleline开始渲染前调度过程</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="43" x2="43" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="121" x2="121" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="247.5" x2="247.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="378.5" x2="378.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="548.5" x2="548.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="695.5" x2="695.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="845" x2="845" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="967" x2="967" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1088.5" x2="1088.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1206.5" x2="1206.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1307.5" x2="1307.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1420.5" x2="1420.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1557.5" x2="1557.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1681.5" x2="1681.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1839.5" x2="1839.5" y1="73.25" y2="946.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1962.5" x2="1962.5" y1="73.25" y2="946.9688"/><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="8" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="15" y="57.9482">Widget</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="8" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="15" y="965.9639">Widget</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="92" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="99" y="57.9482">State</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="92" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="99" y="965.9639">State</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="208.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="215.5" y="57.9482">Element</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="208.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="215.5" y="965.9639">Element</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="329.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="336.5" y="57.9482">BuildOwner</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="329.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="336.5" y="965.9639">BuildOwner</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="483.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="490.5" y="57.9482">WidgetsBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="483.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="490.5" y="965.9639">WidgetsBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="624.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="631.5" y="57.9482">SchedulerBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="624.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="631.5" y="965.9639">SchedulerBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="792" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="799" y="57.9482">WindowDart</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="792" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="799" y="965.9639">WindowDart</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="930" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="937" y="57.9482">Window</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="930" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="937" y="965.9639">Window</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="1055.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1062.5" y="57.9482">Engine</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="1055.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1062.5" y="965.9639">Engine</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="1164.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1171.5" y="57.9482">Animator</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="1164.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1171.5" y="965.9639">Animator</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="49" x="1281.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="1288.5" y="57.9482">Shell</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="49" x="1281.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="1288.5" y="965.9639">Shell</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="1344.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="1351.5" y="57.9482">RuntimeController</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="1344.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="1351.5" y="965.9639">RuntimeController</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1506.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1513.5" y="57.9482">UIDartState</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1506.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1513.5" y="965.9639">UIDartState</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1619.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1626.5" y="57.9482">RenderBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1619.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1626.5" y="965.9639">RenderBinding</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1778.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1785.5" y="57.9482">PipelineOwner</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1778.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1785.5" y="965.9639">PipelineOwner</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1910.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1917.5" y="57.9482">RenderView</text><rect fill="#FEFECE" filter="url(#f6d3i6dahre0t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1910.5" y="945.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1917.5" y="965.9639">RenderView</text><polygon fill="#A80036" points="109,100.3828,119,104.3828,109,108.3828,113,104.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="43" x2="115" y1="104.3828" y2="104.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="50" y="99.3169">setState</text><polygon fill="#A80036" points="236,129.5156,246,133.5156,236,137.5156,240,133.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="242" y1="133.5156" y2="133.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="128" y="128.4497">markNeedsBuild</text><polygon fill="#A80036" points="367,158.6484,377,162.6484,367,166.6484,371,162.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="373" y1="162.6484" y2="162.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="255" y="157.5825">scheduleBuildFor</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="379" x2="421" y1="191.7813" y2="191.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421" x2="421" y1="191.7813" y2="204.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="380" x2="421" y1="204.7813" y2="204.7813"/><polygon fill="#A80036" points="390,200.7813,380,204.7813,390,208.7813,386,204.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="386" y="186.7153">onBuildScheduled</text><polygon fill="#A80036" points="537,229.9141,547,233.9141,537,237.9141,541,233.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379" x2="543" y1="233.9141" y2="233.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="386" y="228.8481">_handleBuildScheduled</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="549" x2="591" y1="263.0469" y2="263.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591" x2="591" y1="263.0469" y2="276.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="550" x2="591" y1="276.0469" y2="276.0469"/><polygon fill="#A80036" points="560,272.0469,550,276.0469,560,280.0469,556,276.0469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="556" y="257.981">ensureVisualUpdate</text><polygon fill="#A80036" points="684,301.1797,694,305.1797,684,309.1797,688,305.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="549" x2="690" y1="305.1797" y2="305.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="556" y="300.1138">scheduleFrame</text><polygon fill="#A80036" points="833,330.3125,843,334.3125,833,338.3125,837,334.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="839" y1="334.3125" y2="334.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="703" y="329.2466">scheduleFrame</text><polygon fill="#A80036" points="955,359.4453,965,363.4453,955,367.4453,959,363.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="845" x2="961" y1="363.4453" y2="363.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="852" y="358.3794">scheduleFrame</text><polygon fill="#A80036" points="1077,388.5781,1087,392.5781,1077,396.5781,1081,392.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="967" x2="1083" y1="392.5781" y2="392.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="974" y="387.5122">scheduleFrame</text><polygon fill="#A80036" points="1195,417.7109,1205,421.7109,1195,425.7109,1199,421.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1089" x2="1201" y1="421.7109" y2="421.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1096" y="416.645">RequestFrame</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1207" x2="1249" y1="450.8438" y2="450.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1249" x2="1249" y1="450.8438" y2="463.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208" x2="1249" y1="463.8438" y2="463.8438"/><polygon fill="#A80036" points="1218,459.8438,1208,463.8438,1218,467.8438,1214,463.8438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1214" y="445.7778">AwaitVSync</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1207" x2="1249" y1="492.9766" y2="492.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1249" x2="1249" y1="492.9766" y2="505.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208" x2="1249" y1="505.9766" y2="505.9766"/><polygon fill="#A80036" points="1218,501.9766,1208,505.9766,1218,509.9766,1214,505.9766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1214" y="487.9106">BeginFrame</text><polygon fill="#A80036" points="1296,546.2422,1306,550.2422,1296,554.2422,1300,550.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1207" x2="1302" y1="550.2422" y2="550.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="1214" y="530.0435">OnAnimator</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1214" y="545.1763">BeginFrame</text><polygon fill="#A80036" points="1100,575.375,1090,579.375,1100,583.375,1096,579.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1094" x2="1307" y1="579.375" y2="579.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1106" y="574.3091">BeginFrame</text><polygon fill="#A80036" points="1408.5,604.5078,1418.5,608.5078,1408.5,612.5078,1412.5,608.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1089" x2="1414.5" y1="608.5078" y2="608.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1096" y="603.4419">BeginFrame</text><polygon fill="#A80036" points="978,633.6406,968,637.6406,978,641.6406,974,637.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="972" x2="1419.5" y1="637.6406" y2="637.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="984" y="632.5747">BeginFrame</text><polygon fill="#A80036" points="856,662.7734,846,666.7734,856,670.7734,852,666.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="850" x2="966" y1="666.7734" y2="666.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="862" y="661.7075">BeginFrame</text><polygon fill="#A80036" points="1546,691.9063,1556,695.9063,1546,699.9063,1550,695.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="967" x2="1552" y1="695.9063" y2="695.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="974" y="690.8403">FlushMicrotasksNow</text><polygon fill="#A80036" points="856,721.0391,846,725.0391,856,729.0391,852,725.0391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="850" x2="966" y1="725.0391" y2="725.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="862" y="719.9731">DrawFrame</text><polygon fill="#A80036" points="707,750.1719,697,754.1719,707,758.1719,703,754.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="701" x2="844" y1="754.1719" y2="754.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="713" y="749.106">_handleDrawFrame</text><polygon fill="#A80036" points="1669.5,779.3047,1679.5,783.3047,1669.5,787.3047,1673.5,783.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="1675.5" y1="783.3047" y2="783.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="703" y="778.2388">_handlePersistentFrameCallback</text><polygon fill="#A80036" points="1827.5,808.4375,1837.5,812.4375,1827.5,816.4375,1831.5,812.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681.5" x2="1833.5" y1="812.4375" y2="812.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="1688.5" y="807.3716">flushLayout</text><polygon fill="#A80036" points="1827.5,837.5703,1837.5,841.5703,1827.5,845.5703,1831.5,841.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681.5" x2="1833.5" y1="841.5703" y2="841.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1688.5" y="836.5044">flushCompositingBits</text><polygon fill="#A80036" points="1827.5,866.7031,1837.5,870.7031,1827.5,874.7031,1831.5,870.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681.5" x2="1833.5" y1="870.7031" y2="870.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="1688.5" y="865.6372">flushPaint</text><polygon fill="#A80036" points="1950.5,895.8359,1960.5,899.8359,1950.5,903.8359,1954.5,899.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681.5" x2="1956.5" y1="899.8359" y2="899.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1688.5" y="894.77">compositeFrame</text><polygon fill="#A80036" points="1827.5,924.9688,1837.5,928.9688,1827.5,932.9688,1831.5,928.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681.5" x2="1833.5" y1="928.9688" y2="928.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1688.5" y="923.9028">flushSemantics</text><!--MD5=[659585bf9bd7c4f440e2db9058bec41f]
@startuml
Title: state到触发pipleline开始渲染前调度过程

Widget->State:setState
State->Element:markNeedsBuild
Element->BuildOwner:scheduleBuildFor
BuildOwner->BuildOwner:onBuildScheduled
BuildOwner->WidgetsBinding:_handleBuildScheduled
WidgetsBinding->WidgetsBinding:ensureVisualUpdate
WidgetsBinding->SchedulerBinding:scheduleFrame
SchedulerBinding->WindowDart:scheduleFrame
WindowDart->Window:scheduleFrame
Window->Engine:scheduleFrame
Engine->Animator:RequestFrame
Animator->Animator:AwaitVSync
Animator->Animator:BeginFrame
Animator->Shell:OnAnimator\nBeginFrame
Shell->Engine:BeginFrame
Engine->RuntimeController:BeginFrame
RuntimeController->Window:BeginFrame
Window->WindowDart:BeginFrame
Window->UIDartState:FlushMicrotasksNow
Window->WindowDart:DrawFrame
WindowDart->SchedulerBinding:_handleDrawFrame
SchedulerBinding->RenderBinding:_handlePersistentFrameCallback
RenderBinding->PipelineOwner:flushLayout
RenderBinding->PipelineOwner:flushCompositingBits
RenderBinding->PipelineOwner:flushPaint
RenderBinding->RenderView:compositeFrame
RenderBinding->PipelineOwner:flushSemantics
@enduml

PlantUML version 1.2020.10(Sun May 17 09:48:49 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>